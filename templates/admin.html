{% extends "layout.html" %}
{% block content %}

<h2 class="mb-4">üìä Admin Dashboard ‚Äì T·ªïng h·ª£p h·ªá g·ª£i √Ω</h2>

<!-- ========================= -->
<!-- TH·ªêNG K√ä -->
<!-- ========================= -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>T·ªïng Anime</h6>
            <h3>{{ total_items }}</h3>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>T·ªïng User</h6>
            <h3>{{ total_users }}</h3>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>L∆∞·ª£t Y√™u Th√≠ch</h6>
            <h3>{{ total_fav }}</h3>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>S·ªë Th·ªÉ Lo·∫°i</h6>
            <h3>{{ total_genres }}</h3>
        </div>
    </div>
</div>

<hr>

<!-- ========================= -->
<!-- BI·ªÇU ƒê·ªí -->
<!-- ========================= -->
<h3 class="mb-3">üìà Tr·ª±c quan d·ªØ li·ªáu</h3>

<div class="row mb-4">

    <div class="col-md-3 mb-3">
        <div class="card p-2 shadow-sm">
            <h6 class="text-center">Ph√¢n b·ªë Score</h6>
            <img src="data:image/png;base64,{{ score_img }}" class="img-fluid rounded">
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card p-2 shadow-sm">
            <h6 class="text-center">Top Genres</h6>
            <img src="data:image/png;base64,{{ genres_img }}" class="img-fluid rounded">
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card p-2 shadow-sm">
            <h6 class="text-center">Top Favorites</h6>
            <img src="data:image/png;base64,{{ fav_img }}" class="img-fluid rounded">
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card p-2 shadow-sm">
            <h6 class="text-center">Heatmap t∆∞∆°ng quan</h6>
            <img src="data:image/png;base64,{{ heatmap_img }}" class="img-fluid rounded">
        </div>
    </div>

</div>

<hr>

<!-- ========================= -->
<!-- EVALUATION -->
<!-- ========================= -->
<h3 class="mb-3">üß† ƒê√°nh gi√° m√¥ h√¨nh</h3>

<!-- ===== CF BASIC ===== -->
<h5 class="mt-3">üî∑ Collaborative Filtering (CF) ‚Äì Basic Evaluation</h5>
<div class="row mb-4">

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>Precision@10</h6>
            <h4>{{ cf_precision|round(3) }}</h4>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>Recall@10</h6>
            <h4>{{ cf_recall|round(3) }}</h4>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>Coverage</h6>
            <h4>{{ cf_cov|round(3) }}</h4>
        </div>
    </div>

</div>

<!-- ===== CBF BASIC ===== -->
<h5 class="mt-4">üî∂ Content-Based Filtering (CBF) ‚Äì Basic Evaluation</h5>
<div class="row mb-4">

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>Precision@10</h6>
            <h4>{{ cb_precision|round(3) }}</h4>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card p-3 text-center shadow-sm">
            <h6>Recall@10</h6>
            <h4>{{ cb_recall|round(3) }}</h4>
        </div>
    </div>
</div>

{% endblock %}
